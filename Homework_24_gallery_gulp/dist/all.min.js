const ALBUMS_URL="https://jsonplaceholder.typicode.com/albums",PHOTOS_URL="https://jsonplaceholder.typicode.com/photos?albumId={{id}}",ALBUM_ITEM_CLASS="album-item",albumsEl=document.querySelector("#albums"),photosEl=document.querySelector("#photos"),albumItemTemplate=document.querySelector("#albumItemTemplate").innerHTML,photoItemTemplate=document.querySelector("#photoItemTemplate").innerHTML;albumsEl.addEventListener("click",onAlbumsClick);const http=new Http(ALBUMS_URL,PHOTOS_URL);function init(){getAlbums().then(getFirstAlbumPhotos)}function getAlbums(){return fetch(ALBUMS_URL).then(t=>t.json()).then(t=>(renderAlbums(t),t))}function renderAlbums(t){albumsEl.innerHTML=t.map(t=>generateAlbumHtml(t)).join("\n")}function generateAlbumHtml(t){return albumItemTemplate.replace("{{id}}",t.id).replace("{{title}}",t.title)}function getFirstAlbumPhotos(t){t.length&&getPhotos(t[0].id)}function getPhotos(t){return fetch(getPhotosUrl(t)).then(t=>t.json()).then(renderPhotos)}function getPhotosUrl(t){return PHOTOS_URL.replace("{{id}}",t)}function renderPhotos(t){photosEl.innerHTML=t.map(t=>generatePhotoHtml(t)).join("\n")}function generatePhotoHtml(t){return photoItemTemplate.replace("{{url}}",t.thumbnailUrl).replace("{{title}}",t.title)}function onAlbumsClick(t){t.target.classList.contains(ALBUM_ITEM_CLASS)&&getPhotos(t.target.dataset.id)}init();class Http{constructor(t,e){this._albumsUrl=t,this._photosUrl=e}getAlbums(){return fetch(this._albumsUrl).then(t=>t.json()).then(t=>(renderAlbums(t),t))}getPhotos(t){return fetch(getPhotosUrl(t)).then(t=>t.json())}listAlbums(){return this.getAlbums()}listPhotos(t){return this.getPhotos(t)}}